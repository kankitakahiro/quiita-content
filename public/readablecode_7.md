---
title: リーダブルコード　7章　制御フローを読みやすくする
tags:
  - リーダブルコード
  - 命名規則
private: true
updated_at: '2025-10-27T04:23:26+09:00'
id: cf52cd10d4c0f7d51fcc
organization_url_name: null
slide: false
ignorePublish: false
---

- [1. 条件式の引数の並び順](#1-条件式の引数の並び順)
- [2. if/elseブロックの並び順](#2-ifelseブロックの並び順)
- [3. 三項演算子](#3-三項演算子)
- [4. 関数から早く返す](#4-関数から早く返す)

* カギとなる考え
条件やループなどの制御フローはできるだけ「自然」にする。コードの読み手が立ち止まったり読み返したりしないように書く

### 1. 条件式の引数の並び順

```python
if (10 <= length) # 見にくい
if (length >= 10) # 見やすい
```

|左側|右側|
|----|----|
|「調査対象」の式。変化する。|「比較対象」の式。あまり変化しない|

### 2. if/elseブロックの並び順

* 条件は否定形よりも肯定形を使う。
* 単純な条件を先に書く。
* 関心を引く条件や目立つ条件を先に書く。

### 3. 三項演算子

* カギとなる考え
行数を短くするよりも、他人が理解するのにかかる時間を短くする

* アドバイス
基本的にはif/elseをつかおう。三項演算子はそれによって簡潔になるときがけ使おう。

### 4. 関数から早く返す

```C#
public boolean Contains(String str, String substr){
    if (str == null || substr == null) return false;
    if (substr.equals("")) return true;
    ...
}
```
このようにガード節を使って実装すると自然に書くことができる。
|言語|クリーンアップコードのイディオム|
|----|----|
|C++|デストラクタ|
|Java・Python|try ... finally|
|python|with|
|C#|using|

5. ネストを浅くする
ネストが深くなる原因は途中でコードを挿入するときにネストを考慮せずに入れるために後から見返すとわかりにくくなってしまう。
* カギとなる考え
変更するときにはコードを新鮮な目で見る。一歩下がって全体を見る

ネストを削除する技法
* 早めに返してネストを削除する
ガード節とreturnを駆使する
* ループ内部のネストを削除する
ガード節とcontinueを駆使する

6. 実行の流れを追えるかい？

わかりにくくなる構成要素
|構成要素|高レベルの流れが不明瞭になる理由|
|----|----|
|スレッド|どのコードがいつ実行されるのかがわからない|
|シグナル/割り込みハンドラ|他のコードが実行される可能性がある|
|例外|いろんな関数呼び出しが終了しようとする|
|関数呼び出しと無名関数|コンパイルの時に判別できないので、どのコードが実行されるのかわからない|
|仮想メソッド|object.virtualMethod()は未知のサブクラスコードを呼び出す可能性がある|
